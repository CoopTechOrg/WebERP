# Overview

見積業務

# Specification

## 言語定義(DB)

- estimate: 一般的な「見積」であり、概算を表す。一般的にこちらを使う
- quotation: 確定した概算金額を表す。見積書のことはquotationを用いる

## 一覧画面

- 見積番号
- タイトル
- 顧客名
- 発行日
- 見積もり金額
- 代金の支払い条件(備考)
- 作成者
- 受注されたか
- 発行したか
- 有効期限

## CRUD画面

### 作成・更新時

他のテンプレートを選んだ場合は上書きしても良いかアラート

明細は

- 数量
- 単位(マスタから)
- 単価
- 税込 or 税抜 or 非課税
- 作業内容
- 備考

#### 作成時

テンプレートから作成可能

#### 更新時

テンプレートで上書き可能

#### 受注された場合

更新ボタンは押せない。
基本的に情報の閲覧のみ。
見積書の閲覧はできるがメール送信はできない

なお、作成者以外の一般ユーザもこの扱いとする。

#### 未受注の場合

変更可能。 見積もりのメール送信機能はどうするか未定

なお、管理者ユーザも変更可能だが、基本的には自分が更新する

## その他

### 更新コンフリクト

自分以外が更新していたらアラートを表示する。
自分の内容で上書きをするのか、他者の内容を優先するのか。

※ 他の業務管理にも関わるので共通仕様に記載予定

### デザインURL
https://xd.adobe.com/view/66077fbc-5eca-4ae3-9347-1353a9f32827-3354/

### デザイン・コーディング面の仕様
最大文字数を超えた値が送られてきた場合

一覧画面：…ellipsisを使う。[CSSではみ出したテキストを「...」で省略](https://qiita.com/tksnino/items/4cf63bd1fc86a69daba0)

CRUD画面：二行にする。

見積書作成画面：二行にする。